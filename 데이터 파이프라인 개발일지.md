# 데이터 파이프라인 개발일지
  
**2022 / 05 / 04** 
파이프라인 시나리오 작성
  
  
**2022 / 05 / 09**
파이프라인 테스트 환경 구축(spark, kafka 설치)
- openssh-server 설치  
- 포트포워딩 설정
- hadoop 설치
- hive 설치
- spark 설치
  
  
**2022 / 05 / 10**
spark streaming에서 증권사 주문 데이터 테스트
- 스트리밍 컨텍스트 생성  
- 이상 스트림 생성  
	예제 데이터 내려받기  
	DStream 객체 생성  
- 이상 스트림 사용  
	데이터 파싱  
	거래 주문 건수 집계  
- 결과 파일로 저장  
- 스트리밍 계산 작업 시작 및 종료  
	스파크 스트리밍으로 데이터 전송  
	출력  
- 시간에 따라 변화하는 계산 상태 저장  
	updateStateByKey로 상태 유지  
	union으로 두 DStream 병합  
	체크포인팅 디렉터리 지정  
	두번째 출력  
	mapWithState  
- 윈도 연산으로 일정 시간동안 유입된 데이터만 계산  
	마지막 지표 계산  
