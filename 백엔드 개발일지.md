# 백엔드 개발일지


## < 1주차 >

- 젠킨스 설치 및 Git 연동( 테스트 완료 )
- 마켓컬리 메인페이지 프론드엔드 클론코딩 ( 완료 )
- ER 다이어그램 ( 완료 ) 
- WBS form ( 완료 )
- APi 설계도 ( 완료 )
- UI 설계도 ( 완료 )
- [DB]MySQL 구축 ( 진행중 )



**2022 / 05 / 03**

- jenkins in ubuntu 설치
- jenkins Git 연동 테스트
- 마켓컬리 메인페이지 프론트엔드 클론코딩
- 개발 환경 세팅 


**2022 / 05 / 04**

- ER 다이어그램 작성 ( 완료 )
- WBS form ( 진행중 )
- APi 설계도 ( 완료 )
- UI 설계도 ( 완료 )


**2022 / 05 / 05**

- 메인페이지 프론트엔드 클론코딩 ( 진행중 )
- 회원가입 프론트엔드 클론코딩 ( 진행중 )
- 고객센터 프론트엔드 클론코딩( 진행중 )

**2022 / 05 / 06**

- 메인페이지 프론트엔드 클론코딩 ( 진행중 )
- 회원가입 프론트엔드 클론코딩 ( 진행중 )
- 고객센터 프론트엔드 클론코딩( 진행중 )


**2022 / 05 / 07**

- 메인페이지 프론트엔드 클론코딩 ( 완료 )
- 회원가입 프론트엔드 클론코딩 ( 완료 )
- 고객센터 프론트엔드 클론코딩( 완료 )



## < 2주차 >
- WBS 업데이트 (진행중)
- [DB]MySQL 구축 ( 진행중 )
- [DB]MySQL 브랜치별 기능 구현 완료 후 DB 합치기 ( 예정 )
- [Back-End] "회원관리"-회원가입,로그인,회원탈퇴,회원정보수정,마이페이지 등 ( 진행중 )
- [Back-End] "고객센터 게시판(2개)" - 공지사항, 1:1문의/상담 {게시글작성, 조회, 게시글리스트, 댓글 기능 구현} ( 완료 )
- [Back-End] "상품 등록" 게시판 ( 진행중 )
- [Back-End] "회원관리APP + 고객센터APP" merge ( 진행중 )



**2022 / 05 / 09**

- 회원가입 기능 구현 : MVT 생성 및 DB 연동( 진행중 )
- 회원가입 기능 구현 : 주소조회 API ( 완료 )
- 고객센터 기능 구현 : 공지사항, 1:1 문의 CRUD 기능 구현 및 DB 연동 ( 진행중 )

▶ 오늘의 오류 발생 및 해결 과정

	1. signup 메소드 실행시 registerform 에 맞는 data가 post 되지 않아 동작되지 않음
		→ user id 중복검사 필드가 post 되지 않아서 발생하는 오류
		→ DB에서 중복되는 id를 조회하는 javascript 메소드 생성 ( 예정 )

**2022 / 05 / 10**

- 고객센터 기능 구현 : 공지사항, 1:1 문의 CRUD 기능 구현 및 DB연동 ( 완료 )
- 회원가입 기능 구현 : 장고 기본 회원가입 모델 + 새로운 필드 추가 DB 연동 ( 진행중 )

▶ 오늘의 오류 발생 및 해결 과정

	1. 장고 auth_user의 필드는 DB에 저장되지만 새로 추가한 필드는 DB 연동 실패

**2022 / 05 / 11**

- [DB] MySQL 외부 로컬 PC_Ubuntu 연동 ( 완료 )
- 상품등록 게시판 ( 진행중 )
- 회원가입, 로그인, 로그아웃 ( 완료 )
	
▶ 오늘의 오류 발생 및 해결 과정

	1. localhost 윈도우 환경 테스트DB에서는 문제 없이 작동했지만, Ubuntu 환경에서 DB를 새롭게 구축하여 Django와 연동해본 결과 "Incorrect string value" 언어설정으로 인한 문제가 발생했고, /etc/mysql/mysql.conf.d/mysqld.cnf 파일에 uft코덱 추가 후 table convert로 해결.
	
	2. 로그인 메소드 실행시 AuthenticationForm의 유효성 검사 코드가 실행되지 않음.
		-> print(AuthenticationForm)을 실행하여 폼의 data가 어떻게 들어가는지 확인
		->  AuthenticationForm는 패스워드 data를 받을 때 password1이 아닌 password로 받아야 하는 것을 확인
		-> login.html의 input name 을 password로 변경

**2022 / 05 / 12**

- #### AWS 데이터베이스, 스토리지 구축 및 연동 ( 완료 )
└ RDS
└ S3
- #### 상품 게시판 ( 진행중 )
└  카테고리 (구현 70%)
└  상품등록 (구현 70%)
- #### 장바구니 게시판 ( 진행중 )
└  장바구니 (구현 70%)
- #### 마이페이지 ( 진행중 )
└  주문내역 ( 진행중 )
└  쿠폰 ( 진행중 )
└  개인정보수정 ( 진행중 )

**2022 / 05 / 14**

- #### 장바구니 ( 완료 )
└ 카데고리 추가
└ 쿠폰 적용 추가
- #### 쿠폰 게시판 ( 완료 )
└  쿠폰 생성
└  쿠폰 등록
- #### 결제 게시판 ( 완료 )
└  결제하기(이니시스)

▶ 오늘의 오류 발생 및 해결 과정

	1. iamport port api 활용하여 결제서비스를 구현할때 비동기통신 Ajax에 대한 이해가 필요했고 JS를 활용한 Ajax에 대한 공부가 많이 필요했다. html 구조에 대한 좀 더 구체적인 이해와 js의 동작원리를 어느정도 파악하고 나서야 Ajax를 구현 할 수 있었다. 공부하자!

**2022 / 05 / 15**

- #### 카카오소셜 로그인 ( 진행중 )
└ 로그인 기능 구현 ( 완료 )
└ 카카오 로그인 후 커스텀 유저모델에서 요구하는 필드 추가 수집 ( 진행중 )


▶ 오늘의 오류 발생 및 해결 과정

	1. allauth 모듈 활용 카카오 로그인에 성공했지만 allauth 내장 함수 redirect 방식을 알지 못해 html 반환에 문제가 있음
	2. 카카오 로그인 후 커스텀 유저모델에서 요구하는 필드 추가 수집 방식 찾는 중

## < 3주차 >
- WBS 업데이트 (진행중)
- [S3]1차 merge 후 MySQL 연동 ( 완료 )
- [S3]1차 merge 후 MySQL 브랜치별 기능 구현 완료 후 DB 합치기 ( 완료 )
- [Back-End] "회원관리APP + 고객센터APP" merge ( 완료 )
- [Back-End] "회원관리"-소셜로그인 ( 진행중 )
- [Back-End] "상품 등록" 게시판 메인페이지에 띄우기 ( 진행중 )
- [Back-End] 추가 구현할 기능 리스트업 ( 진행중 )
- [Back-End] admin/user 홈페이지 각각 따로 제작, 메인페이지에서 관리자페이지/일반페이지 선택해서 입장 ( 진행중 )
- [Git] 백엔드 repo subtree 연동 ( 완료 )

**2022 / 05 / 16**

- #### 로그인, 로그아웃, 회원가입 ( 완료 )
└ merge 후 변동사항 적용 ( 완료 )

- #### 마이페이지 ( 진행중 )
└ merge 후 변동사항 수정 ( 진행중 )

- #### 카카오소셜 로그인 ( 진행중 )
└ 로그인 완료후 redirect ( 진행중 )
└ 카카오 로그인 후 커스텀 유저모델에서 요구하는 필드 추가 수집 ( 진행중 )


▶ 오늘의 오류 발생 및 해결 과정

	1. 로그인 후 메인페이지 로그인, 회원가입 버튼 숨김 및 로그아웃, 마이페이지 버튼 생성
		→ html , {% if request.user.is_authenticated %} 를 활용하여 해결

**2022 / 05 / 17**

- #### 빅데이터 Website 개발 ( 진행중 )
└ 베리마켓 쇼핑몰 Website와 별개로 빅데이터 데이터를 시각화한 정보를 전달 할 수 있는 판매자 전용 웹사이트 구상 ( 개발중 )

- #### 카카오 소셜로그인 ( 완료 )

- #### 메인페이지 프론트엔드 수정 ( 진행중 )
└ 상품 리스트 ( 진행중 )


**2022 / 05 / 18**

- #### 빅데이터 Website 개발 ( 진행중 )
└ 메인페이지 ( 개발중 )
└ 게시글_리스트 ( 완료 )
└ 게시글_상세페이지 ( 완료 )
└ 게시글_작성,읽기,수정,삭제(forms,button ok) ( 완료 )

- #### 마이페이지 프론트엔드 수정 ( 진행중 )
└ 장바구니 ( 진행중 )
└ 쿠폰함 ( 완료 )
└ 개인정보수정 ( 완료 )

**2022 / 05 / 19**

- #### 빅데이터 Website 개발 ( 진행중 )
└ 댓글_작성,읽기,수정,삭제(forms,button ok) ( 완료 )
└ 이미지&텍스트파일 Upload & Download ( 완료 )

- #### 마이페이지 프론트엔드 수정 ( 진행중 )
└ 장바구니 ( 진행중 )

- #### Git subtree ( 진행중 )
└ 백엔드 repository를 메인 repository에 연동 ( 진행중 )


**2022 / 05 / 20**

- #### Git subtree 연동 ( 완료 )
└ 백엔드 repository를 메인 repository에 부모 자식 관계로 연동 ( 완료 )
- #### 빅데이터 Website 개발 ( 진행중 )
└ 회원가입&로그인(이메일로그인, 구글로그인) ( 완료 )
└ 사용자관리(권한 3종류)일반유저,중간관리자,최종관리자 ( 완료 )
└ 카테고리, 테크 구현 ( 완료 )

▶ 오늘의 오류 발생 및 해결 과정

	1. Git subtree 연동 과정 중 자식 repo의 변경사항이 부모의 repo에 적용이 되지 않는 상황
		→ $git subtree pull --prefix=[폴더이름] [remote 이름] [branch 이름]
		→ $git push 을 활용하여 해결


**2022 / 05 / 21**

- #### 상품 상세페이지 ( 진행중 )
└ 상세페이지 프론트엔드 ( 진행중 )
└ 상세페이지 찜하기 Ajax ( 진행중 )

- #### 빅데이터 Website 개발 ( 진행중 )
└ 검색 기능, 페이지 넘기기 기능 구현 ( 완료 )
└ 사용자 아바타 구현 ( 개발중 )


## < 4주차 >
- WBS 업데이트 (진행중)
- [Back-End] 추가 구현할 기능 리스트업 ( 진행중 )
- [Back-End] 메인 및 상품 상세 기능 추가 ( 진행중 )
- [Back-End] 판매자(빅데이터 활용) 페이지 구현 ( 진행중 )


**2022 / 05 / 23**

- #### 상품 상세페이지 ( 진행중 )
└ 상세페이지 프론트엔드 ( 진행중 )
└ 상세페이지 찜하기 Ajax ( 진행중 )

- #### 빅데이터 Website 개발 ( 진행중 )
└ 검색 기능, 페이지 넘기기 기능 구현 ( 완료 )
└ 사용자 아바타 구현 ( 개발중 )


**2022 / 05 / 24**

- #### 메인 페이지 ( 완료 )
└ 상품 리스트넘기기 기능 구현 ( 완료 )

- #### 상품 상세페이지 ( 진행중 )
└ 상세페이지 프론트엔드 ( 완료 )
└ 상세페이지 리뷰 및 별점 ( 완료 )
└ 상세페이지 찜하기 Ajax ( 진행중 )


- #### 빅데이터 Website 개발 ( 진행중 )
└ 사용자 아바타 구현(구글로그인-구글프로필사진, 이메일로그인-랜덤한 케릭터이미지), 댓글창과 로그아웃 영역에도 구현 ( 완료 ) <br>
└ 대문페이지 - 최근 게시글 목록 불러오기(3개씩), 프론트 디자인(배경, 아바타, fontawsome등) 추가	( 완료 ) <br>
└ 권한 추가 설정 - 일반 회원은 댓글만 작성 가능, staff 회원과 superuser 회원만 게시글 작성 가능(권한이 없는 계정이면 게시글 작성 버튼이 보이지 않게함) ( 완료 ) <br>
└ 베리마켓빅데이터 소개페이지 ( 완료 ) <br>

**2022 / 05 / 25**

- #### 빅데이터 Website ( 완료 )
└ 오타 수정 및 CSS 수정
└ AWS RDS, S3 연동 ( 완료 )
└ CI/CD 젠킨스를 활용하여 K8S에서 배포 ( 완료 )

- #### 베리마켓 상품 상세페이지 ( 진행중 )
└ 상세페이지 프론트엔드 ( 완료 )
└ 상세페이지 리뷰 및 별점 ( 완료 )
└ 상세페이지 찜하기 Ajax ( 진행중 )

**2022 / 05 / 27**

- #### 베리마켓 고객센터 ( 완료 )
└ 공지사항 게시판 전면 개편 ( 완료 )
└ 1:1문의 게시판 전면 개편 ( 완료 )
└ 데이터베이스 초기화 ( 완료 )

**2022 / 05 / 28**

- #### 베리마켓 메인페이지 ( 완료 )
└ 과일 상품 content 등록, 상품 상세페이지 content 등록 ( 완료 ) <br>
└ 빅데이터 website로 이동할 수 있는 웹 배너 제작 ( 완료 ) <br>

- #### 베리마켓 마이페이지 쿠폰함 ( 진행중 )
└ 쿠폰 MVT 수정 - 다대다 관계 설정, 쿠폰 count ( 진행중 )<br>
└ 쿠폰함 프론트엔드 ( 진행중 )<br>

**2022 / 05 / 29**

- #### 베리마켓 메인페이지 ( 완료 )
└ 카테고리 - 알뜰쇼핑, 금주혜택 프론트엔드 제작 및 popup창 기능 구현 ( 완료 ) <br>
└ 메인페이지 - 이벤트 소식 프론트엔드 제작 및 popup창 기능 구현 ( 완료 ) <br>
└ 메인페이지 - 불필요요소 정리 ( 완료 ) <br>

- #### 베리마켓 마이페이지 쿠폰함 ( 완료 )
└ 쿠폰 MVT 수정 - 다대다 관계 설정, 쿠폰 count ( 완료 )<br>
└ 쿠폰함 프론트엔드 ( 진행중 )<br>

**2022 / 05 / 31**

- #### 베리마켓 ( 완료 )
└ 로그데이터 - 스파크로 분석하기 위한 로그데이터 전송(상품결제 완료시 품목, 날짜, 시간, 유저번호, 주문번호를 로그데이터로 출력>

▶ 오늘의 오류 발생 및 해결 과정

	1. 특히 로그데이터(품목(카테고리))를 뽑아올때, 결제완료 method를 실행하여 request 로 받은 id 값(order_id)으로 3개의 연결된 테이블을 참조하여 값(카테고리이름)을 불러올 DB에 한번만 접근할 수 있는 효율적인 방법이 필요했고, 정참조일 때는 select_related, 역참조일 때는 prefetch_related를 활용해 불러올 수 있었다.
		→ orderitems = Order.objects.prefetch_related('items').get(id=order_id).items.all().select_related('product')
		
		
**2022 / 06 / 02**

- #### 베리마켓 메인페이지( 완료 )
└ 메인페이지 - 장바구니 담기 기능 업그레이드(완료) <br>
└ best페이지 - 프론트엔드 수정 및 장바구니 담기 기능 업그레이드 (완료) <br>

- #### 빅데이터 Website 시각화 자료 출력 ( 완료 )
└ 빅데이터(기상 API) 분석 시각화 자료 출력 (완료) <br>
└ 빅데이터(과일 시세 API) 분석 시각화 자료 출력 (완료) <br>

- #### Nginx(웹서버), Gunicorn(WSGI) 연동 및 배포
└ nginx(EC2) - gunicorn - django 연동 ( 완료 ) <br>
└ https://verymarket.kro.kr ( 쇼핑몰 ), https://bigverymarket.kro.kr ( 데이터시각화 서비스 ) <br>

**2022 / 06 / 03**

- #### 베리마켓 메인페이지( 완료 )
└ 결제정보 실시간 로그데이터 카프카로 전송 및 전처리 코드 개발 ( 완료 ) <br>


**2022 / 06 / 05**

- #### 베리마켓 메인페이지( 완료 )
└ 결제정보 실시간 로그데이터 카프카로 전송 및 전처리 코드 개발 ( 완료 ) <br>
└ 메인페이지 가로형 배너 제작, 웹디자인 추가 ( 완료 ) <br>

# 게시판 구성
## 베리마켓(쇼핑몰)
고객센터
└ 공지사항 ( 완료 )
└ 1:1문의 ( 완료 )

상품 게시판
└  카테고리 ( 완료 )
└  상품등록 ( 완료 )

cart 게시판
└  장바구니 ( 완료 )

coupon 게시판
└  쿠폰 생성 ( 완료 )
└  쿠폰 등록 ( 완료 )

order 게시판
└  결제(KG이니시스) 구현 ( 완료 )

## 베리마켓(빅데이터Web)

회원관리
└ 회원가입,로그인(구글,이메일) ( 완료 )
└ 사용자권한관리(일반,중간관리자,최종관리자) ( 완료 )
└ 로그인시 아바타 적용( 완료 )

대문글
└ 검색
└ 메인페이지(최근 게시물 3개 UPdate) ( 완료 )
└ About SITE 소개 페이지 ( 완료 )

게시판
└ 게시글 리스트 
└ 게시판 CRUD ( 완료 )
└ 댓글 CRUD ( 완료 )
└ 이미지&텍스트파일 Upload & Download ( 완료 )
└ 카테고리 ( 완료 )
└ 태그 ( 완료 )
└ 검색 ( 완료 )
└ 페이지 넘기기 이전, 다음 ( 완료 )


# 베리마켓 쇼핑몰 게시판 기능
▶공지사항 - 관리자 공지글 작성, 조회, 공지사항list, 댓글 구현 ( 완료 )<br>
▶1:1문의 - 회원 게시글 작성, 조회, 문의사항list, 댓글 구현 ( 완료 )<br>
▶카테고리 - 카테고리 별 분류 구현 ( 완료 )<br>
▶상품등록 - 상품등록(이미지, 가격, 설명 등), 상품삭제, 상품수정 ( 완료 )<br>
▶장바구니 - 상품담기 구현 ( 완료 )<br>
▶쿠폰 - 할인 쿠폰 생성 및 적용 구현( 완료 )<br>
▶주문하기 - 결제(KG이니시스) 구현 ( 완료 )<br>
▶회원가입,로그인,로그아웃
▶회원정보수정
▶마이페이지
▶비밀번호변경

# 베리마켓 빅데이터 게시판 기능
▶메인페이지 ( 완료 )
▶게시글_리스트 ( 완료 )
▶게시글_상세페이지 ( 완료 )
▶게시글_CRUD(forms,button ok) ( 완료 )
▶댓글_CRUD(forms,button ok) ( 완료 )
▶이미지&텍스트파일 Upload & Download ( 완료 )
▶회원가입&로그인(이메일로그인, 구글로그인) ( 완료 )
▶사용자관리(권한,3개)일반유저,중간관리자,최종관리자 ( 완료 )
▶카테고리 구현( 완료 )
▶태그 구현 ( 완료 )
▶검색 기능 구현 ( 완료 )
▶페이지 넘기기 ( 완료 )
▶사용자 아바타 보여주기 ( 완료 )
▶대문 페이지 ( 완료 )
▶제2 홈페이지(빅데이터관련) 소개페이지 ( 완료 )
